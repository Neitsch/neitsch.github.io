<!DOCTYPE html><html lang="en"><head><meta content="#1976d2" name="theme-color"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link href="/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="/favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="/favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link href="/favicon/site.webmanifest" rel="manifest"/><link color="#000000" href="/favicon/safari-pinned-tab.svg" rel="mask-icon"/><link href="/favicon/favicon.ico" rel="shortcut icon"/><meta content="#000000" name="msapplication-TileColor"/><meta content="/favicon/browserconfig.xml" name="msapplication-config"/><meta content="#000" name="theme-color"/><link href="/feed.xml" rel="alternate" type="application/rss+xml"/><script async="" data-goatcounter="https://nigel.goatcounter.com/count" data-goatcounter-settings="{}" src="//gc.zgo.at/count.js"></script><title>Why object destructuring is awesome</title><meta content="" name="description"/><meta content="Why object destructuring is awesome" property="og:title"/><meta content="" property="og:description"/><meta content="article" property="og:type"/><meta content="en_US" property="og:locale"/><meta name="next-head-count" content="19"/><link rel="preload" href="/_next/static/css/5ea27e5c9dd48442fdad.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5ea27e5c9dd48442fdad.css" data-n-g=""/><link rel="preload" href="/_next/static/css/4e839cf21ff6bf076b3f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4e839cf21ff6bf076b3f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-5c5c9a38a56b2b88ab7c.js" defer=""></script><script src="/_next/static/chunks/framework-09a88f8e6a8ced89af74.js" defer=""></script><script src="/_next/static/chunks/main-3406814bfe8b50bda517.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8d0b88f75ae0d955f0f1.js" defer=""></script><script src="/_next/static/chunks/40-1e2c306e27def1aa21fc.js" defer=""></script><script src="/_next/static/chunks/530-99dabf1a344420276700.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-d3b1b053365ab20a8bb8.js" defer=""></script><script src="/_next/static/G4pN5waZr9Ip5VdZLYGqB/_buildManifest.js" defer=""></script><script src="/_next/static/G4pN5waZr9Ip5VdZLYGqB/_ssgManifest.js" defer=""></script><style data-emotion="css-global o6gwfi">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><style data-emotion="css 1oqqzyl-MuiContainer-root 3ntvoq-MuiTypography-root-MuiLink-root bhp9pd-MuiPaper-root-MuiCard-root o69gx8-MuiCardMedia-root 46bh2p-MuiCardContent-root k008qs i9gxme gepadz-MuiTypography-root 56sg73 1iz24ed-MuiChip-root 1wlk0hk-MuiAvatar-root 1pqm26d-MuiAvatar-img 6od3lo-MuiChip-label 5lbw0b-MuiTypography-root 1ld3b9g-MuiGrid-root 1tp3ba8-MuiGrid-root b6lsxj-MuiButtonBase-root-MuiCardActionArea-root uxrmkj-MuiTypography-root-MuiLink-root ahj2mt-MuiTypography-root 1v2exvi-MuiCardActionArea-focusHighlight">.css-1oqqzyl-MuiContainer-root{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;}@media (min-width:600px){.css-1oqqzyl-MuiContainer-root{padding-left:24px;padding-right:24px;}}@media (min-width:1200px){.css-1oqqzyl-MuiContainer-root{max-width:1200px;}}.css-3ntvoq-MuiTypography-root-MuiLink-root{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:300;font-size:6rem;line-height:1.167;letter-spacing:-0.01562em;color:inherit;-webkit-text-decoration:none;text-decoration:none;}.css-bhp9pd-MuiPaper-root-MuiCard-root{background-color:#fff;color:rgba(0, 0, 0, 0.87);-webkit-transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border-radius:4px;box-shadow:0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);overflow:hidden;}.css-o69gx8-MuiCardMedia-root{display:block;-webkit-background-size:cover;background-size:cover;background-repeat:no-repeat;-webkit-background-position:center;background-position:center;width:100%;object-fit:cover;}.css-46bh2p-MuiCardContent-root{padding:16px;}.css-46bh2p-MuiCardContent-root:last-child{padding-bottom:24px;}.css-k008qs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-i9gxme{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}.css-gepadz-MuiTypography-root{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:3rem;line-height:1.167;letter-spacing:0em;}.css-56sg73{-webkit-align-self:flex-end;-ms-flex-item-align:flex-end;align-self:flex-end;}.css-1iz24ed-MuiChip-root{font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:0.8125rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;height:32px;color:rgba(0, 0, 0, 0.87);background-color:rgba(0, 0, 0, 0.08);border-radius:16px;white-space:nowrap;-webkit-transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;cursor:default;outline:0;-webkit-text-decoration:none;text-decoration:none;border:0;padding:0;vertical-align:middle;box-sizing:border-box;}.css-1iz24ed-MuiChip-root.Mui-disabled{opacity:0.38;pointer-events:none;}.css-1iz24ed-MuiChip-root .MuiChip-avatar{margin-left:5px;margin-right:-6px;width:24px;height:24px;color:#616161;font-size:0.75rem;}.css-1iz24ed-MuiChip-root .MuiChip-avatarColorPrimary{color:#fff;background-color:#1565c0;}.css-1iz24ed-MuiChip-root .MuiChip-avatarColorSecondary{color:#fff;background-color:#7b1fa2;}.css-1iz24ed-MuiChip-root .MuiChip-avatarSmall{margin-left:4px;margin-right:-4px;width:18px;height:18px;font-size:0.625rem;}.css-1iz24ed-MuiChip-root .MuiChip-icon{color:#616161;margin-left:5px;margin-right:-6px;}.css-1iz24ed-MuiChip-root .MuiChip-deleteIcon{-webkit-tap-highlight-color:transparent;color:rgba(0, 0, 0, 0.26);font-size:22px;cursor:pointer;margin:0 5px 0 -6px;}.css-1iz24ed-MuiChip-root .MuiChip-deleteIcon:hover{color:rgba(0, 0, 0, 0.4);}.css-1wlk0hk-MuiAvatar-root{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:40px;height:40px;font-family:"Roboto","Helvetica","Arial",sans-serif;font-size:1.25rem;line-height:1;border-radius:50%;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.css-1pqm26d-MuiAvatar-img{width:100%;height:100%;text-align:center;object-fit:cover;color:transparent;text-indent:10000px;}.css-6od3lo-MuiChip-label{overflow:hidden;text-overflow:ellipsis;padding-left:12px;padding-right:12px;white-space:nowrap;}.css-5lbw0b-MuiTypography-root{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:2.125rem;line-height:1.235;letter-spacing:0.00735em;}.css-1ld3b9g-MuiGrid-root{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-top:-40px;width:calc(100% + 40px);margin-left:-40px;}.css-1ld3b9g-MuiGrid-root>.MuiGrid-item{padding-top:40px;}.css-1ld3b9g-MuiGrid-root>.MuiGrid-item{padding-left:40px;}.css-1tp3ba8-MuiGrid-root{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:900px){.css-1tp3ba8-MuiGrid-root{-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:50%;}}.css-b6lsxj-MuiButtonBase-root-MuiCardActionArea-root{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;display:block;text-align:inherit;width:100%;}.css-b6lsxj-MuiButtonBase-root-MuiCardActionArea-root::-moz-focus-inner{border-style:none;}.css-b6lsxj-MuiButtonBase-root-MuiCardActionArea-root.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-b6lsxj-MuiButtonBase-root-MuiCardActionArea-root{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-b6lsxj-MuiButtonBase-root-MuiCardActionArea-root:hover .MuiCardActionArea-focusHighlight{opacity:0.04;}@media (hover: none){.css-b6lsxj-MuiButtonBase-root-MuiCardActionArea-root:hover .MuiCardActionArea-focusHighlight{opacity:0;}}.css-b6lsxj-MuiButtonBase-root-MuiCardActionArea-root.Mui-focusVisible .MuiCardActionArea-focusHighlight{opacity:0.12;}.css-uxrmkj-MuiTypography-root-MuiLink-root{margin:0;color:inherit;-webkit-text-decoration:none;text-decoration:none;}.css-ahj2mt-MuiTypography-root{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;}.css-1v2exvi-MuiCardActionArea-focusHighlight{overflow:hidden;pointer-events:none;position:absolute;top:0;right:0;bottom:0;left:0;border-radius:inherit;opacity:0;background-color:currentcolor;-webkit-transition:opacity 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:opacity 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;}</style></head><body><div id="__next"><div class="min-h-screen"><main><div class="MuiContainer-root MuiContainer-maxWidthLg css-1oqqzyl-MuiContainer-root"><a class="MuiTypography-root MuiTypography-h1 MuiLink-root MuiLink-underlineNone css-3ntvoq-MuiTypography-root-MuiLink-root" href="/">Nigel&#x27;s Blog.</a><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-bhp9pd-MuiPaper-root-MuiCard-root"><img class="MuiCardMedia-root MuiCardMedia-media MuiCardMedia-img css-o69gx8-MuiCardMedia-root"/><div class="MuiCardContent-root css-46bh2p-MuiCardContent-root"><div class="MuiBox-root css-k008qs"><div class="MuiBox-root css-i9gxme"><h1 class="MuiTypography-root MuiTypography-h3 css-gepadz-MuiTypography-root">Why object destructuring is awesome</h1></div><div class="MuiBox-root css-56sg73"><div class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorDefault MuiChip-filledDefault css-1iz24ed-MuiChip-root"><div class="MuiAvatar-root MuiAvatar-circular MuiChip-avatar MuiChip-avatarMedium MuiChip-avatarColorDefault css-1wlk0hk-MuiAvatar-root"><img alt="Nigel Schuster" src="https://media.graphcms.com/resize=fit:crop,height:100,width:100/1bF1qLxsSbElgNK5x6t6" class="MuiAvatar-img css-1pqm26d-MuiAvatar-img"/></div><span class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label">Nigel Schuster</span></div></div></div><p>Object destructuring is a syntax that allows you to unpack values from an object. Many modern languages have support for it. So let&#x27;s have a look at an example:</p>
<pre><code class="hljs language-rust"><span class="hljs-keyword">struct</span> <span class="hljs-title hljs-class">User</span> {
    name: <span class="hljs-type">String</span>,
    age: <span class="hljs-type">u8</span>
}

<span class="hljs-comment">// Bad: This how I would naively write this</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title hljs-class">ToString</span> <span class="hljs-keyword">for</span> <span class="hljs-title hljs-class">User</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title hljs-function">to_string</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> {
        <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;{name} ({age})&quot;</span>, name=<span class="hljs-keyword">self</span>.name, age=<span class="hljs-keyword">self</span>.age)
    }
}

<span class="hljs-comment">// Good: Take advantage of destructuring</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title hljs-class">ToString</span> <span class="hljs-keyword">for</span> <span class="hljs-title hljs-class">User</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title hljs-function">to_string</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> {
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"></span><span class="hljs-variable">User</span> { name, age } = <span class="hljs-keyword">self</span>;
        <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;{name} ({age})&quot;</span>, name=name, age=age)
    }
}
</code></pre>
<p>Why does it matter? Well, let&#x27;s have a look what happens when we add a field:</p>
<pre><code class="hljs language-rust"><span class="hljs-keyword">struct</span> <span class="hljs-title hljs-class">User</span> {
    name: <span class="hljs-type">String</span>,
    age: <span class="hljs-type">u8</span>,
    height: <span class="hljs-type">u16</span> <span class="hljs-comment">// in cm</span>
}
</code></pre>
<p>The bad example will compile perfectly fine. Meanwhile when using destructuring we get:</p>
<pre><code class="hljs language-vbnet"><span class="hljs-keyword">error</span>[E0027]: pattern does <span class="hljs-built_in">not</span> mention field `height`
 --&gt; src/<span class="hljs-keyword">lib</span>.rs:<span class="hljs-number">9</span>:<span class="hljs-number">13</span>
  |
<span class="hljs-number">9</span> |         <span class="hljs-keyword">let</span> User { name, age } = self;
  |             ^^^^^^^^^^^^^^^^^^ missing field `height`
  |
<span class="hljs-symbol">help:</span> include the missing field <span class="hljs-keyword">in</span> the pattern
  |
<span class="hljs-number">9</span> |         <span class="hljs-keyword">let</span> User { name, age, height } = self;
  |                             ^^^^^^^^^^
<span class="hljs-symbol">help:</span> <span class="hljs-keyword">if</span> you don<span class="hljs-comment">&#x27;t care about this missing field, you can explicitly ignore it</span>
  |
<span class="hljs-number">9</span> |         <span class="hljs-keyword">let</span> User { name, age, .. } = self;
  |                             ^^^^^^
</code></pre>
<p>Thanks to object destructuring we remember to update our code:</p>
<pre><code class="hljs language-rust"><span class="hljs-keyword">impl</span> <span class="hljs-title hljs-class">ToString</span> <span class="hljs-keyword">for</span> <span class="hljs-title hljs-class">User</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title hljs-function">to_string</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> {
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"></span><span class="hljs-variable">User</span> { name, age, height } = <span class="hljs-keyword">self</span>;
        <span class="hljs-built_in">format!</span>(<span class="hljs-string">&quot;{name} ({age}, {height} cm)&quot;</span>, name=name, age=age, height=height)
    }
}
</code></pre><div></div></div></div><hr class="border-accent-2 mt-28 mb-24"/><div><h4 class="MuiTypography-root MuiTypography-h4 css-5lbw0b-MuiTypography-root">More Stories</h4><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-5 css-1ld3b9g-MuiGrid-root"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-6 css-1tp3ba8-MuiGrid-root"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-bhp9pd-MuiPaper-root-MuiCard-root"><img class="MuiCardMedia-root MuiCardMedia-media MuiCardMedia-img css-o69gx8-MuiCardMedia-root"/><div class="MuiCardContent-root css-46bh2p-MuiCardContent-root"><button class="MuiButtonBase-root MuiCardActionArea-root css-b6lsxj-MuiButtonBase-root-MuiCardActionArea-root" tabindex="0" type="button"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineNone css-uxrmkj-MuiTypography-root-MuiLink-root" href="/posts/avoid-generic-types"><div class="MuiBox-root css-k008qs"><div class="MuiBox-root css-i9gxme"><h4 class="MuiTypography-root MuiTypography-h4 css-5lbw0b-MuiTypography-root">Avoiding generic types for safer code</h4></div><div class="MuiBox-root css-56sg73"><div class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorDefault MuiChip-filledDefault css-1iz24ed-MuiChip-root"><div class="MuiAvatar-root MuiAvatar-circular MuiChip-avatar MuiChip-avatarMedium MuiChip-avatarColorDefault css-1wlk0hk-MuiAvatar-root"><img alt="Nigel Schuster" src="https://media.graphcms.com/resize=fit:crop,height:100,width:100/1bF1qLxsSbElgNK5x6t6" class="MuiAvatar-img css-1pqm26d-MuiAvatar-img"/></div><span class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label">Nigel Schuster</span></div></div></div><p class="MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root">Using generic types like strings made me make mistakes on several occasion. There is a better way.</p></a><span class="MuiCardActionArea-focusHighlight css-1v2exvi-MuiCardActionArea-focusHighlight"></span></button></div></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-6 css-1tp3ba8-MuiGrid-root"><div class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-bhp9pd-MuiPaper-root-MuiCard-root"><img class="MuiCardMedia-root MuiCardMedia-media MuiCardMedia-img css-o69gx8-MuiCardMedia-root"/><div class="MuiCardContent-root css-46bh2p-MuiCardContent-root"><button class="MuiButtonBase-root MuiCardActionArea-root css-b6lsxj-MuiButtonBase-root-MuiCardActionArea-root" tabindex="0" type="button"><a class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineNone css-uxrmkj-MuiTypography-root-MuiLink-root" href="/posts/how-to-csp"><div class="MuiBox-root css-k008qs"><div class="MuiBox-root css-i9gxme"><h4 class="MuiTypography-root MuiTypography-h4 css-5lbw0b-MuiTypography-root">How to CSP</h4></div><div class="MuiBox-root css-56sg73"><div class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorDefault MuiChip-filledDefault css-1iz24ed-MuiChip-root"><div class="MuiAvatar-root MuiAvatar-circular MuiChip-avatar MuiChip-avatarMedium MuiChip-avatarColorDefault css-1wlk0hk-MuiAvatar-root"><img alt="Nigel Schuster" src="https://media.graphcms.com/resize=fit:crop,height:100,width:100/1bF1qLxsSbElgNK5x6t6" class="MuiAvatar-img css-1pqm26d-MuiAvatar-img"/></div><span class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label">Nigel Schuster</span></div></div></div><p class="MuiTypography-root MuiTypography-body1 css-ahj2mt-MuiTypography-root">A good CSP can be a line of defence against XSS. It isn&#x27;t trivial to get it right though.</p></a><span class="MuiCardActionArea-focusHighlight css-1v2exvi-MuiCardActionArea-focusHighlight"></span></button></div></div></div></div></div></div></main></div><footer class="bg-accent-1 border-t border-accent-2"><div class="MuiContainer-root MuiContainer-maxWidthLg css-1oqqzyl-MuiContainer-root"><div class="py-28 flex flex-col lg:flex-row items-center"><h3 class="text-4xl lg:text-5xl font-bold tracking-tighter leading-tight text-center lg:text-left mb-10 lg:mb-0 lg:pr-4 lg:w-1/2">Nigel Schuster&#x27;s blog.</h3></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"__typename":"Query","moreStories":[{"__typename":"Post","author":{"__typename":"Author","name":"Nigel Schuster","picture":{"__typename":"Asset","url":"https://media.graphcms.com/resize=fit:crop,height:100,width:100/1bF1qLxsSbElgNK5x6t6"}},"coverImage":null,"excerpt":"Using generic types like strings made me make mistakes on several occasion. There is a better way.","slug":"avoid-generic-types","title":"Avoiding generic types for safer code"},{"__typename":"Post","author":{"__typename":"Author","name":"Nigel Schuster","picture":{"__typename":"Asset","url":"https://media.graphcms.com/resize=fit:crop,height:100,width:100/1bF1qLxsSbElgNK5x6t6"}},"coverImage":null,"excerpt":"A good CSP can be a line of defence against XSS. It isn't trivial to get it right though.","slug":"how-to-csp","title":"How to CSP"}],"post":{"__typename":"Post","author":{"__typename":"Author","name":"Nigel Schuster","picture":{"__typename":"Asset","url":"https://media.graphcms.com/resize=fit:crop,height:100,width:100/1bF1qLxsSbElgNK5x6t6"}},"content":"Object destructuring is a syntax that allows you to unpack values from an object. Many modern languages have support for it. So let's have a look at an example:\n```rust\nstruct User {\n    name: String,\n    age: u8\n}\n\n// Bad: This how I would naively write this\nimpl ToString for User {\n    fn to_string(\u0026self) -\u003e String {\n        format!(\"{name} ({age})\", name=self.name, age=self.age)\n    }\n}\n\n// Good: Take advantage of destructuring\nimpl ToString for User {\n    fn to_string(\u0026self) -\u003e String {\n        let User { name, age } = self;\n        format!(\"{name} ({age})\", name=name, age=age)\n    }\n}\n```\nWhy does it matter? Well, let's have a look what happens when we add a field:\n```rust\nstruct User {\n    name: String,\n    age: u8,\n    height: u16 // in cm\n}\n```\nThe bad example will compile perfectly fine. Meanwhile when using destructuring we get:\n```\nerror[E0027]: pattern does not mention field `height`\n --\u003e src/lib.rs:9:13\n  |\n9 |         let User { name, age } = self;\n  |             ^^^^^^^^^^^^^^^^^^ missing field `height`\n  |\nhelp: include the missing field in the pattern\n  |\n9 |         let User { name, age, height } = self;\n  |                             ^^^^^^^^^^\nhelp: if you don't care about this missing field, you can explicitly ignore it\n  |\n9 |         let User { name, age, .. } = self;\n  |                             ^^^^^^\n```\nThanks to object destructuring we remember to update our code:\n```rust\nimpl ToString for User {\n    fn to_string(\u0026self) -\u003e String {\n        let User { name, age, height } = self;\n        format!(\"{name} ({age}, {height} cm)\", name=name, age=age, height=height)\n    }\n}\n```","coverImage":null,"date":"2021-08-28","ogImage":null,"slug":"object-destructuring","title":"Why object destructuring is awesome"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"object-destructuring"},"buildId":"G4pN5waZr9Ip5VdZLYGqB","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>